<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>自定义菜单 | TNWX</title>
    <meta name="description" content="TNWX 微信系开发脚手架">
    <meta name="generator" content="VuePress 1.3.0">
    <link rel="icon" href="/TNWX/logo.png">
  <link rel="manifest" href="/TNWX/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/TNWX/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/TNWX/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/TNWX/assets/css/0.styles.2163bcaa.css" as="style"><link rel="preload" href="/TNWX/assets/js/app.45523f02.js" as="script"><link rel="preload" href="/TNWX/assets/js/3.43011e0b.js" as="script"><link rel="preload" href="/TNWX/assets/js/24.0a02ff84.js" as="script"><link rel="prefetch" href="/TNWX/assets/js/10.470dfb6d.js"><link rel="prefetch" href="/TNWX/assets/js/11.3ef22147.js"><link rel="prefetch" href="/TNWX/assets/js/12.1078b9db.js"><link rel="prefetch" href="/TNWX/assets/js/13.e30e191f.js"><link rel="prefetch" href="/TNWX/assets/js/14.7e523d97.js"><link rel="prefetch" href="/TNWX/assets/js/15.214073fb.js"><link rel="prefetch" href="/TNWX/assets/js/16.d405661d.js"><link rel="prefetch" href="/TNWX/assets/js/17.e7074638.js"><link rel="prefetch" href="/TNWX/assets/js/18.ac700e96.js"><link rel="prefetch" href="/TNWX/assets/js/19.4ed32732.js"><link rel="prefetch" href="/TNWX/assets/js/20.92dbd837.js"><link rel="prefetch" href="/TNWX/assets/js/21.d37ecdb8.js"><link rel="prefetch" href="/TNWX/assets/js/22.d5462217.js"><link rel="prefetch" href="/TNWX/assets/js/23.ee59309e.js"><link rel="prefetch" href="/TNWX/assets/js/25.2570222d.js"><link rel="prefetch" href="/TNWX/assets/js/26.a25f3552.js"><link rel="prefetch" href="/TNWX/assets/js/27.7623e189.js"><link rel="prefetch" href="/TNWX/assets/js/28.7b29409a.js"><link rel="prefetch" href="/TNWX/assets/js/29.7479f75f.js"><link rel="prefetch" href="/TNWX/assets/js/30.d95ba395.js"><link rel="prefetch" href="/TNWX/assets/js/31.fa21b093.js"><link rel="prefetch" href="/TNWX/assets/js/32.9a9832fa.js"><link rel="prefetch" href="/TNWX/assets/js/4.a48f21e3.js"><link rel="prefetch" href="/TNWX/assets/js/5.eed9ec6e.js"><link rel="prefetch" href="/TNWX/assets/js/6.94a14664.js"><link rel="prefetch" href="/TNWX/assets/js/7.52aff822.js"><link rel="prefetch" href="/TNWX/assets/js/8.6e89422d.js"><link rel="prefetch" href="/TNWX/assets/js/9.aadac41b.js"><link rel="prefetch" href="/TNWX/assets/js/vendors~notification.c4421e20.js">
    <link rel="stylesheet" href="/TNWX/assets/css/0.styles.2163bcaa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TNWX/" class="home-link router-link-active"><!----> <span class="site-name">TNWX</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/TNWX/guide/" class="nav-link router-link-active">
  接入指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开源项目" class="dropdown-title"><span class="title">开源项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/javen205/IJPay" target="_blank" rel="noopener noreferrer" class="nav-link external">
  IJPay 让支付触手可及
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/javen205/JPay" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JPay 简易而不简单的支付 SDK
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/javen205/TNWX" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TNWX 微信系开发脚手架
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/javen205/weixin_guide" target="_blank" rel="noopener noreferrer" class="nav-link external">
  weixin_guide 微信公众号开发指南
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/javen205/Sunflower" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信小游戏·云开发
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/javen205/SpringBoot_Guide" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SpringBoot·SpringCloud 案例
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="/TNWX/guide/donate/" class="nav-link">
  赞助
</a></div><div class="nav-item"><a href="https://gitee.com/javen205/TNWX" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/javen205/TNWX" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/TNWX/guide/" class="nav-link router-link-active">
  接入指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开源项目" class="dropdown-title"><span class="title">开源项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/javen205/IJPay" target="_blank" rel="noopener noreferrer" class="nav-link external">
  IJPay 让支付触手可及
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/javen205/JPay" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JPay 简易而不简单的支付 SDK
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/javen205/TNWX" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TNWX 微信系开发脚手架
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/javen205/weixin_guide" target="_blank" rel="noopener noreferrer" class="nav-link external">
  weixin_guide 微信公众号开发指南
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/javen205/Sunflower" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信小游戏·云开发
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/javen205/SpringBoot_Guide" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SpringBoot·SpringCloud 案例
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="/TNWX/guide/donate/" class="nav-link">
  赞助
</a></div><div class="nav-item"><a href="https://gitee.com/javen205/TNWX" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/javen205/TNWX" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>参考资料</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TNWX/guide/tools/frp.html" class="sidebar-link">本地端口映射工具 FRP</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>新手指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TNWX/guide/common/init.html" class="sidebar-link">快速入门</a></li><li><a href="/TNWX/guide/common/accesstoken.html" class="sidebar-link">获取 accesstoken</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>微信公众号</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TNWX/guide/wxmp/callback.html" class="sidebar-link">开发者模式</a></li><li><a href="/TNWX/guide/wxmp/sendmsg.html" class="sidebar-link">各种消息交互</a></li><li><a href="/TNWX/guide/wxmp/custom_menu.html" class="active sidebar-link">自定义菜单</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TNWX/guide/wxmp/custom_menu.html#简介" class="sidebar-link">简介</a></li><li class="sidebar-sub-header"><a href="/TNWX/guide/wxmp/custom_menu.html#接口权限" class="sidebar-link">接口权限</a></li><li class="sidebar-sub-header"><a href="/TNWX/guide/wxmp/custom_menu.html#编辑模式" class="sidebar-link">编辑模式</a></li><li class="sidebar-sub-header"><a href="/TNWX/guide/wxmp/custom_menu.html#开发模式" class="sidebar-link">开发模式</a></li><li class="sidebar-sub-header"><a href="/TNWX/guide/wxmp/custom_menu.html#tnwx-中实现方案" class="sidebar-link">TNWX 中实现方案</a></li><li class="sidebar-sub-header"><a href="/TNWX/guide/wxmp/custom_menu.html#读取配置文件来创建菜单" class="sidebar-link">读取配置文件来创建菜单</a></li><li class="sidebar-sub-header"><a href="/TNWX/guide/wxmp/custom_menu.html#动态创建自定义菜单" class="sidebar-link">动态创建自定义菜单</a></li><li class="sidebar-sub-header"><a href="/TNWX/guide/wxmp/custom_menu.html#java-版本自定义菜单" class="sidebar-link">Java 版本自定义菜单</a></li><li class="sidebar-sub-header"><a href="/TNWX/guide/wxmp/custom_menu.html#开源推荐" class="sidebar-link">开源推荐</a></li></ul></li><li><a href="/TNWX/guide/wxmp/templatemsg.html" class="sidebar-link">模板消息</a></li><li><a href="/TNWX/guide/wxmp/oauth.html" class="sidebar-link">授权获取用户信息</a></li><li><a href="/TNWX/guide/wxmp/jssdk.html" class="sidebar-link">如何使用JSSDK</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>企业微信</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TNWX/guide/wxcp/callback.html" class="sidebar-link">开发者模式</a></li><li><a href="/TNWX/guide/wxcp/handmsg.html" class="sidebar-link">各种消息交互</a></li><li><a href="/TNWX/guide/wxcp/sendmsg.html" class="sidebar-link">发送应用消息</a></li><li><a href="/TNWX/guide/wxcp/media.html" class="sidebar-link">素材管理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>微信支付</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TNWX/guide/wxpay/" class="sidebar-link">让支付触手可及</a></li><li><a href="/TNWX/guide/wxpay/api-v2.html" class="sidebar-link">微信支付 V2 版本</a></li><li><a href="/TNWX/guide/wxpay/api-v3.html" class="sidebar-link">微信支付 V3 版本</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>微信小程序</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TNWX/guide/miniprogram/login.html" class="sidebar-link">登录</a></li><li><a href="/TNWX/guide/miniprogram/subscribemsg.html" class="sidebar-link">订阅消息</a></li><li><a href="/TNWX/guide/miniprogram/ocr.html" class="sidebar-link">OCR 识别</a></li><li><a href="/TNWX/guide/miniprogram/qrcode.html" class="sidebar-link">小程序码</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>一杯咖啡</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TNWX/guide/donate/" class="sidebar-link">请作者喝一杯咖啡</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="自定义菜单"><a href="#自定义菜单" class="header-anchor">#</a> 自定义菜单</h1> <h2 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h2> <p><strong>TNWX: TypeScript + Node.js + WeiXin 微信系开发脚手架，支持微信公众号、微信支付、微信小游戏、微信小程序、企业号/企业微信。最最最重要的是能快速的集成至任何 Node.js 框架(Express、Nest、Egg、Koa 等)</strong></p> <h2 id="接口权限"><a href="#接口权限" class="header-anchor">#</a> 接口权限</h2> <p><a href="https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1433401084" target="_blank" rel="noopener noreferrer">公众号接口权限说明<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1421141013" target="_blank" rel="noopener noreferrer">菜单规则以及按钮类型说明<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>实现自定义菜单有两种方式</p> <ol><li>编辑模式</li> <li>开发模式</li></ol> <h2 id="编辑模式"><a href="#编辑模式" class="header-anchor">#</a> 编辑模式</h2> <p>登录 MP 平台，侧栏找到 <code>添加功能插件</code> 菜单并在插件库中找到 <code>自定义菜单</code> 插件添加后按照提示操作即可。</p> <h2 id="开发模式"><a href="#开发模式" class="header-anchor">#</a> 开发模式</h2> <p>开发模式下有两种实现方式但推荐使用第二种</p> <ol><li>使用微信 <a href="http://mp.weixin.qq.com/debug/" target="_blank" rel="noopener noreferrer">公众平台接口调试工具<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 实现</li> <li>使用 <a href="https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1421141013" target="_blank" rel="noopener noreferrer">官方提供的接口<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 实现</li></ol> <h2 id="tnwx-中实现方案"><a href="#tnwx-中实现方案" class="header-anchor">#</a> TNWX 中实现方案</h2> <ul><li>创建菜单</li> <li>删除菜单</li> <li>查询菜单</li> <li>添加个性化菜单</li> <li>删除个性化菜单</li> <li>测试个性化菜单匹配结果</li></ul> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MenuApi</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> createMenuUrl <span class="token operator">=</span> <span class="token string">'https://api.weixin.qq.com/cgi-bin/menu/create?access_token=%s'</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> deleteMenuUrl <span class="token operator">=</span> <span class="token string">'https://api.weixin.qq.com/cgi-bin/menu/delete?access_token=%s'</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> getMenuUrl <span class="token operator">=</span> <span class="token string">'https://api.weixin.qq.com/cgi-bin/menu/get?access_token=s%'</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> getSelfMenuInfoUrl <span class="token operator">=</span> <span class="token string">'https://api.weixin.qq.com/cgi-bin/get_current_selfmenu_info?access_token=s%'</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> addConditionalUrl <span class="token operator">=</span> <span class="token string">'https://api.weixin.qq.com/cgi-bin/menu/addconditional?access_token=s%'</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> delConditionalUrl <span class="token operator">=</span> <span class="token string">'https://api.weixin.qq.com/cgi-bin/menu/delconditional?access_token=s%'</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> tryMatchUrl <span class="token operator">=</span> <span class="token string">'https://api.weixin.qq.com/cgi-bin/menu/trymatch?access_token=s%'</span><span class="token punctuation">;</span>


    <span class="token comment">/**
     * 创建菜单
     * @param response 
     * @param menuJson 
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">menuJson<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> accessToken <span class="token operator">=</span> <span class="token keyword">await</span> AccessTokenApi<span class="token punctuation">.</span><span class="token function">getAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> url <span class="token operator">=</span> util<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>createMenuUrl<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>AccessToken<span class="token operator">&gt;</span>accessToken<span class="token punctuation">)</span><span class="token punctuation">.</span>getAccessToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> HttpKit<span class="token punctuation">.</span>getHttpDelegate<span class="token punctuation">.</span><span class="token function">httpPost</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> menuJson<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 删除菜单
     * @param response 
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token keyword">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> accessToken <span class="token operator">=</span> <span class="token keyword">await</span> AccessTokenApi<span class="token punctuation">.</span><span class="token function">getAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> url <span class="token operator">=</span> util<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>deleteMenuUrl<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>AccessToken<span class="token operator">&gt;</span>accessToken<span class="token punctuation">)</span><span class="token punctuation">.</span>getAccessToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> HttpKit<span class="token punctuation">.</span>getHttpDelegate<span class="token punctuation">.</span><span class="token function">httpGet</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 查询菜单
     * @param response 
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> accessToken <span class="token operator">=</span> <span class="token keyword">await</span> AccessTokenApi<span class="token punctuation">.</span><span class="token function">getAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> url <span class="token operator">=</span> util<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>getMenuUrl<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>AccessToken<span class="token operator">&gt;</span>accessToken<span class="token punctuation">)</span><span class="token punctuation">.</span>getAccessToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> HttpKit<span class="token punctuation">.</span>getHttpDelegate<span class="token punctuation">.</span><span class="token function">httpGet</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token function">getCurrentSelfMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> accessToken <span class="token operator">=</span> <span class="token keyword">await</span> AccessTokenApi<span class="token punctuation">.</span><span class="token function">getAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> url <span class="token operator">=</span> util<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>getSelfMenuInfoUrl<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>AccessToken<span class="token operator">&gt;</span>accessToken<span class="token punctuation">)</span><span class="token punctuation">.</span>getAccessToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> HttpKit<span class="token punctuation">.</span>getHttpDelegate<span class="token punctuation">.</span><span class="token function">httpGet</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 添加个性化菜单
     * @param response 
     * @param menuJson 
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token function">addConditional</span><span class="token punctuation">(</span><span class="token parameter">menuJson<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> accessToken <span class="token operator">=</span> <span class="token keyword">await</span> AccessTokenApi<span class="token punctuation">.</span><span class="token function">getAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> url <span class="token operator">=</span> util<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>addConditionalUrl<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>AccessToken<span class="token operator">&gt;</span>accessToken<span class="token punctuation">)</span><span class="token punctuation">.</span>getAccessToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> HttpKit<span class="token punctuation">.</span>getHttpDelegate<span class="token punctuation">.</span><span class="token function">httpPost</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> menuJson<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 删除个性化菜单
     * @param response 
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token function">deleteConditional</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> accessToken <span class="token operator">=</span> <span class="token keyword">await</span> AccessTokenApi<span class="token punctuation">.</span><span class="token function">getAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> url <span class="token operator">=</span> util<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>delConditionalUrl<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>AccessToken<span class="token operator">&gt;</span>accessToken<span class="token punctuation">)</span><span class="token punctuation">.</span>getAccessToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> HttpKit<span class="token punctuation">.</span>getHttpDelegate<span class="token punctuation">.</span><span class="token function">httpGet</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 测试个性化菜单匹配结果
     * @param response 
     * @param openId 
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token function">tryMatch</span><span class="token punctuation">(</span><span class="token parameter">openId<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> accessToken <span class="token operator">=</span> <span class="token keyword">await</span> AccessTokenApi<span class="token punctuation">.</span><span class="token function">getAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> url <span class="token operator">=</span> util<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tryMatchUrl<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>AccessToken<span class="token operator">&gt;</span>accessToken<span class="token punctuation">)</span><span class="token punctuation">.</span>getAccessToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> HttpKit<span class="token punctuation">.</span>getHttpDelegate<span class="token punctuation">.</span><span class="token function">httpPost</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token string">&quot;user_id&quot;</span><span class="token operator">:</span> openId
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br></div></div><h2 id="读取配置文件来创建菜单"><a href="#读取配置文件来创建菜单" class="header-anchor">#</a> 读取配置文件来创建菜单</h2> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// 读取配置文件来创建自定义菜单</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/creatMenu'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> res<span class="token operator">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&quot;./config/menu.json&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> fileData <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fileData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// res.send(fileData)</span>
        MenuApi<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>fileData<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="动态创建自定义菜单"><a href="#动态创建自定义菜单" class="header-anchor">#</a> 动态创建自定义菜单</h2> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/dynamicCreatMenu'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> res<span class="token operator">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    MenuApi<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>MenuManager<span class="token punctuation">.</span><span class="token function">getMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="菜单管理类"><a href="#菜单管理类" class="header-anchor">#</a> 菜单管理类</h3> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MenuManager</span> <span class="token punctuation">{</span>

    <span class="token keyword">static</span> <span class="token function">getMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Menu <span class="token punctuation">{</span>
        <span class="token keyword">let</span> btn11 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClickButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn11<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">&quot;微信相册发图&quot;</span><span class="token punctuation">;</span>
        btn11<span class="token punctuation">.</span>setType <span class="token operator">=</span> <span class="token string">&quot;pic_weixin&quot;</span><span class="token punctuation">;</span>
        btn11<span class="token punctuation">.</span>setKey <span class="token operator">=</span> <span class="token string">&quot;rselfmenu_1_1&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> btn12 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClickButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn12<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">&quot;拍照或者相册发图&quot;</span><span class="token punctuation">;</span>
        btn12<span class="token punctuation">.</span>setType <span class="token operator">=</span> <span class="token string">&quot;pic_photo_or_album&quot;</span><span class="token punctuation">;</span>
        btn12<span class="token punctuation">.</span>setKey <span class="token operator">=</span> <span class="token string">&quot;rselfmenu_1_2&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> btn13 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClickButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn13<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">&quot;系统拍照发图&quot;</span><span class="token punctuation">;</span>
        btn13<span class="token punctuation">.</span>setType <span class="token operator">=</span> <span class="token string">&quot;pic_sysphoto&quot;</span><span class="token punctuation">;</span>
        btn13<span class="token punctuation">.</span>setKey <span class="token operator">=</span> <span class="token string">&quot;rselfmenu_1_3&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> btn21 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClickButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn21<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">&quot;扫码带提示&quot;</span><span class="token punctuation">;</span>
        btn21<span class="token punctuation">.</span>setType <span class="token operator">=</span> <span class="token string">&quot;scancode_waitmsg&quot;</span><span class="token punctuation">;</span>
        btn21<span class="token punctuation">.</span>setKey <span class="token operator">=</span> <span class="token string">&quot;rselfmenu_2_1&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> btn22 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClickButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn22<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">&quot;扫码推事件&quot;</span><span class="token punctuation">;</span>
        btn22<span class="token punctuation">.</span>setType <span class="token operator">=</span> <span class="token string">&quot;scancode_push&quot;</span><span class="token punctuation">;</span>
        btn22<span class="token punctuation">.</span>setKey <span class="token operator">=</span> <span class="token string">&quot;rselfmenu_2_2&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> btn23 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ViewButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn23<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">&quot;Gitee&quot;</span><span class="token punctuation">;</span>
        btn23<span class="token punctuation">.</span>setType <span class="token operator">=</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">;</span>
        btn23<span class="token punctuation">.</span>setUrl <span class="token operator">=</span> <span class="token string">&quot;https://gitee.com/javen205&quot;</span><span class="token punctuation">;</span>


        <span class="token keyword">let</span> btn31 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ViewButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn31<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">&quot;IJPay&quot;</span><span class="token punctuation">;</span>
        btn31<span class="token punctuation">.</span>setType <span class="token operator">=</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">;</span>
        btn31<span class="token punctuation">.</span>setUrl <span class="token operator">=</span> <span class="token string">&quot;https://gitee.com/javen205/IJPay&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> btn32 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClickButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn32<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">&quot;发送位置&quot;</span><span class="token punctuation">;</span>
        btn32<span class="token punctuation">.</span>setType <span class="token operator">=</span> <span class="token string">&quot;location_select&quot;</span><span class="token punctuation">;</span>
        btn32<span class="token punctuation">.</span>setKey <span class="token operator">=</span> <span class="token string">&quot;rselfmenu_3_2&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> btn33 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ViewButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn33<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">&quot;在线咨询&quot;</span><span class="token punctuation">;</span>
        btn33<span class="token punctuation">.</span>setType <span class="token operator">=</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">;</span>
        btn33<span class="token punctuation">.</span>setUrl <span class="token operator">=</span> <span class="token string">&quot;http://wpa.qq.com/msgrd?v=3&amp;uin=572839485&amp;site=qq&amp;menu=yes&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> btn34 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ViewButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn34<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">&quot;我的博客&quot;</span><span class="token punctuation">;</span>
        btn34<span class="token punctuation">.</span>setType <span class="token operator">=</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">;</span>
        btn34<span class="token punctuation">.</span>setUrl <span class="token operator">=</span> <span class="token string">&quot;https://blog.javen.dev&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> btn35 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClickButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn35<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">&quot;点击事件&quot;</span><span class="token punctuation">;</span>
        btn35<span class="token punctuation">.</span>setType <span class="token operator">=</span> <span class="token string">&quot;click&quot;</span><span class="token punctuation">;</span>
        btn35<span class="token punctuation">.</span>setKey <span class="token operator">=</span> <span class="token string">&quot;rselfmenu_3_5&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> mainBtn1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mainBtn1<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">&quot;发图&quot;</span><span class="token punctuation">;</span>
        mainBtn1<span class="token punctuation">.</span>setSubButton <span class="token operator">=</span> <span class="token punctuation">[</span>btn11<span class="token punctuation">,</span> btn12<span class="token punctuation">,</span> btn13<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> mainBtn2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mainBtn2<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">&quot;扫码&quot;</span><span class="token punctuation">;</span>
        mainBtn2<span class="token punctuation">.</span>setSubButton <span class="token operator">=</span> <span class="token punctuation">[</span>btn21<span class="token punctuation">,</span> btn22<span class="token punctuation">,</span> btn23<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> mainBtn3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mainBtn3<span class="token punctuation">.</span>setName <span class="token operator">=</span> <span class="token string">&quot;个人中心&quot;</span><span class="token punctuation">;</span>
        mainBtn3<span class="token punctuation">.</span>setSubButton <span class="token operator">=</span> <span class="token punctuation">[</span>btn31<span class="token punctuation">,</span> btn32<span class="token punctuation">,</span> btn33<span class="token punctuation">,</span> btn34<span class="token punctuation">,</span> btn35<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> menu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        menu<span class="token punctuation">.</span>setButton <span class="token operator">=</span> <span class="token punctuation">[</span>mainBtn1<span class="token punctuation">,</span> mainBtn2<span class="token punctuation">,</span> mainBtn3<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> menu<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br></div></div><h3 id="封装实体类"><a href="#封装实体类" class="header-anchor">#</a> 封装实体类</h3> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Menu</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> button<span class="token operator">!</span><span class="token operator">:</span> Button<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> matchrule<span class="token operator">!</span><span class="token operator">:</span> Matchrule<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Button<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>button<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setButton</span><span class="token punctuation">(</span><span class="token parameter">button<span class="token operator">:</span> Button<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>button <span class="token operator">=</span> button<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getMatchrule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Matchrule <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>matchrule<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setMatchrule</span><span class="token punctuation">(</span><span class="token parameter">matchrule<span class="token operator">:</span> Matchrule</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>matchrule <span class="token operator">=</span> matchrule<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">type</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token keyword">type</span> <span class="token operator">=</span> <span class="token keyword">type</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token keyword">type</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setType</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">type</span><span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token keyword">type</span> <span class="token operator">=</span> <span class="token keyword">type</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ClickButton</span> <span class="token keyword">extends</span> <span class="token class-name">Button</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> key<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setKey</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ComButton</span> <span class="token keyword">extends</span> <span class="token class-name">Button</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> sub_button<span class="token operator">:</span> Button<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> sub_button<span class="token operator">?</span><span class="token operator">:</span> Button<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sub_button <span class="token operator">=</span> sub_button <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getSubButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Button<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sub_button<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setSubButton</span><span class="token punctuation">(</span><span class="token parameter">sub_button<span class="token operator">:</span> Button<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sub_button <span class="token operator">=</span> sub_button<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MediaButton</span> <span class="token keyword">extends</span> <span class="token class-name">Button</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> media_id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> media_id<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>media_id <span class="token operator">=</span> media_id <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getMediaId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>media_id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setMediaId</span><span class="token punctuation">(</span><span class="token parameter">media_id<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>media_id <span class="token operator">=</span> media_id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ViewButton</span> <span class="token keyword">extends</span> <span class="token class-name">Button</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> url<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>url <span class="token operator">=</span> url <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>url <span class="token operator">=</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Matchrule</span> <span class="token punctuation">{</span>
    <span class="token comment">//用户分组id，可通过用户分组管理接口获取</span>
    <span class="token keyword">private</span> tag_id<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token comment">//性别：男（1）女（2），不填则不做匹配</span>
    <span class="token keyword">private</span> sex<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token comment">//国家信息</span>
    <span class="token keyword">private</span> country<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token comment">//省份信息</span>
    <span class="token keyword">private</span> province<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token comment">//城市信息</span>
    <span class="token keyword">private</span> city<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token comment">//客户端版本，当前只具体到系统型号：IOS(1), Android(2),Others(3)，不填则不做匹配</span>
    <span class="token keyword">private</span> client_platform_type<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token comment">//语言信息</span>
    <span class="token keyword">private</span> language<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>


    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getTagId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tag_id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setTagId</span><span class="token punctuation">(</span><span class="token parameter">tag_id<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tag_id <span class="token operator">=</span> tag_id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getSex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setSex</span><span class="token punctuation">(</span><span class="token parameter">sex<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getCountry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>country<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setCountry</span><span class="token punctuation">(</span><span class="token parameter">country<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>country <span class="token operator">=</span> country<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getProvince</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>province<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setProvince</span><span class="token punctuation">(</span><span class="token parameter">province<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>province <span class="token operator">=</span> province<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getCity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>city<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setCity</span><span class="token punctuation">(</span><span class="token parameter">city<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>city <span class="token operator">=</span> city<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getClientPlatformType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>client_platform_type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setClientPlatformType</span><span class="token punctuation">(</span><span class="token parameter">client_platform_type<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>client_platform_type <span class="token operator">=</span> client_platform_type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">getLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>language<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">setLanguage</span><span class="token punctuation">(</span><span class="token parameter">language<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>language <span class="token operator">=</span> language<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br></div></div><h2 id="java-版本自定义菜单"><a href="#java-版本自定义菜单" class="header-anchor">#</a> Java 版本自定义菜单</h2> <p><a href="https://www.jianshu.com/p/41ce83878f05" target="_blank" rel="noopener noreferrer">微信公众号开发之自定义菜单<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="开源推荐"><a href="#开源推荐" class="header-anchor">#</a> 开源推荐</h2> <ul><li><code>TNWX</code> 微信公众号开发脚手架：<a href="https://gitee.com/javen205/TNWX" target="_blank" rel="noopener noreferrer">https://gitee.com/javen205/TNWX<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>IJPay</code> 让支付触手可及：<a href="https://gitee.com/javen205/IJPay" target="_blank" rel="noopener noreferrer">https://gitee.com/javen205/IJPay<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>SpringBoot 微服务高效开发 <code>mica</code> 工具集：<a href="https://gitee.com/596392912/mica" target="_blank" rel="noopener noreferrer">https://gitee.com/596392912/mica<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>Avue</code> 一款基于 vue 可配置化的神奇框架：<a href="https://gitee.com/smallweigit/avue" target="_blank" rel="noopener noreferrer">https://gitee.com/smallweigit/avue<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>pig</code> 宇宙最强微服务（架构师必备）：<a href="https://gitee.com/log4j/pig" target="_blank" rel="noopener noreferrer">https://gitee.com/log4j/pig<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>SpringBlade</code> 完整的线上解决方案（企业开发必备）：<a href="https://gitee.com/smallc/SpringBlade" target="_blank" rel="noopener noreferrer">https://gitee.com/smallc/SpringBlade<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/javen205/TNWX/edit/master/docs/docs/guide/wxmp/custom_menu.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">1/31/2020, 2:47:03 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TNWX/guide/wxmp/sendmsg.html" class="prev">
        各种消息交互
      </a></span> <span class="next"><a href="/TNWX/guide/wxmp/templatemsg.html">
        模板消息
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/TNWX/assets/js/app.45523f02.js" defer></script><script src="/TNWX/assets/js/3.43011e0b.js" defer></script><script src="/TNWX/assets/js/24.0a02ff84.js" defer></script>
  </body>
</html>
